# TikTok 自动化系统 - 测试与验证

## 环境安装验证

### ✅ 依赖安装成功

已安装的核心包：
- selenium 4.40.0
- undetected-chromedriver 3.5.5
- webdriver-manager 4.0.2
- python-dotenv 1.2.1
- pyyaml 6.0.3
- loguru 0.7.3
- requests 2.32.5
- setuptools 80.10.1 (Python 3.12+ 兼容性)

### ✅ 程序启动测试

```bash
$ python src/main.py --help

usage: main.py [-h] -v VIDEO [-t TITLE] [--tags TAGS [TAGS ...]] [--headless]
               [-c CONFIG]

TikTok Video Auto Publisher

options:
  -h, --help            show this help message and exit
  -v, --video VIDEO     Path to the video file to upload
  -t, --title TITLE     Video title/caption
  --tags TAGS [TAGS ...]
                        Hashtags for the video (without #)
  --headless            Run browser in headless mode
  -c, --config CONFIG   Path to config file
```

---

## 命令行参数说明

| 参数 | 必填 | 说明 |
|------|------|------|
| `-v, --video` | ✅ | 要上传的视频文件路径 |
| `-t, --title` | ❌ | 视频标题/描述 |
| `--tags` | ❌ | 标签列表（不带#号，空格分隔） |
| `--headless` | ❌ | 以无头模式运行浏览器 |
| `-c, --config` | ❌ | 自定义配置文件路径 |

---

## 使用示例

### 基础上传

```bash
# 激活虚拟环境
source venv/bin/activate

# 上传视频（首次运行会打开浏览器让你手动登录）
python src/main.py -v data/videos/test.mp4
```

### 带标题和标签

```bash
python src/main.py \
  -v data/videos/my_video.mp4 \
  -t "今天分享一个有趣的视频！" \
  --tags fyp 热门 搞笑
```

### 无头模式（需要先完成登录）

```bash
python src/main.py \
  -v data/videos/my_video.mp4 \
  -t "自动发布" \
  --headless
```

---

## 遇到的问题及解决方案

### 问题：ModuleNotFoundError: No module named 'distutils'

**原因**：Python 3.12+ 移除了 distutils 模块

**解决方案**：
```bash
pip install setuptools
```

已更新 requirements.txt 包含此依赖。

---

## 下一步测试

- [ ] 准备一个测试视频文件
- [ ] 测试浏览器启动和登录流程
- [ ] 测试视频上传功能
- [ ] 测试 Docker 部署
